@using CMgt.DAL.Entities.Enums
@model CMgt.shared.ViewModels.ProductViewModel

@{
    Layout = "~/Views/Shared/_layout.cshtml";
}

<div class="card shadow p-3">
    <div class="card-body">
        <form asp-action="AddProduct" asp-controller="Product" method="post" enctype="multipart/form-data">
            <!-- Product Details -->
            <div class="row">
                <div class="col-md-12 form-group mb-2">
                    <label asp-for="ProductName" class="form-label">Product Name</label>
                    <input asp-for="ProductName" class="form-control" />
                    <span asp-validation-for="ProductName" class="text-danger"></span>
                </div>

                <div class="col-md-3 form-group mb-2">
                    <label asp-for="Size" class="form-label">Size</label>
                    <select asp-for="Size" class="form-select">
                        @foreach (var size in Enum.GetValues(typeof(ProductSize)))
                        {
                            <option value="@size">@size</option>
                        }
                    </select>
                    <span asp-validation-for="Size" class="text-danger"></span>
                </div>

                <div class="col-md-3 form-group mb-2">
                    <label asp-for="Price" class="form-label">Price</label>
                    <input asp-for="Price" class="form-control" type="number" step="0.01" />
                    <span asp-validation-for="Price" class="text-danger"></span>
                </div>

                <div class="col-md-3 form-group mb-2">
                    <label asp-for="StockQuantity" class="form-label">Stock Quantity</label>
                    <input asp-for="StockQuantity" class="form-control" type="number" />
                    <span asp-validation-for="StockQuantity" class="text-danger"></span>
                </div>

                <div class="col-md-3 form-group mb-2">
                    <label asp-for="Brand" class="form-label">Brand</label>
                    <input asp-for="Brand" class="form-control" />
                    <span asp-validation-for="Brand" class="text-danger"></span>
                </div>

                <div class="col-md-12 form-group mb-2">
                    <label asp-for="Description" class="form-label">Description</label>
                    <textarea asp-for="Description" class="form-control"></textarea>
                    <span asp-validation-for="Description" class="text-danger"></span>
                </div>

                <div class="col-md-12 mb-3">
                    <div class="row">
                        <!-- Image Upload -->
                        <div class="col-md-8 ">
                            <label for="ImageFiles" class="form-label">Upload Images</label>
                            <input asp-for="ImageFiles" class="form-control" type="file" multiple />
                            <span asp-validation-for="ImageFiles" class="text-danger"></span>
                        </div>

                        <!-- Display Order -->
                        <div class="col-md-2">
                            <label for="DisplayOrder" class="form-label">Display Order</label>
                            <select class="form-select" id="DisplayOrder">
                                @foreach (var order in Enum.GetValues(typeof(DisplayOrder)))
                                {
                                    <option value="@order">@order</option>
                                }
                            </select>
                        </div>

                        <!-- Add Button -->
                        <div class="col-md-2">
                            <label class="form-label d-block">&nbsp;</label> 
                            <button class="btn btn-sm btn-primary" id="btnAddImage">Add Image</button>
                        </div>
                    </div>
                    
                </div>


                <!-- Image DisplayOrder -->
                <div class="col-md-12 mt-3">
                    <h5>Image Display Order</h5>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Image Path</th>
                                <th>Display Order</th>
                            </tr>
                        </thead>
                        <tbody>
                            @* @for (int i = 0; i < Model.Images.Count(); i++)
                            {
                            <tr>
                            <td>
                            <input asp-for="@Model.Images[i].ImagePath" class="form-control" />
                            </td>
                            <td>
                            <select asp-for="@Model.Images[i].DisplayOrder" class="form-select">
                            @foreach (var order in Enum.GetValues(typeof(DisplayOrder)))
                            {
                            <option value="@order">@order</option>
                            }
                            </select>
                            </td>
                            </tr>
                            } *@
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary">Add Product</button>
        </form>
    </div>
</div>

